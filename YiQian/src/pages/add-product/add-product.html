<!--
  Generated template for the AddProductPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>添加商品</ion-title>
  </ion-navbar>

</ion-header>


<ion-content no-padding>
  <ion-list>
    <ion-item>
      <img [src]="image" *ngFor="let image of product.images" style="max-height: 80px;max-width: 80px;" >
      <img src="assets/imgs/supplier_icon.png" *ngIf="product.images.length<3" (click)="choose()" style="max-height: 80px;max-width: 80px;">
      <p item-end *ngIf="product.images.length<3">上传图片</p>
    </ion-item>
    <ion-item>
      <ion-label color="primary" item-start>条码</ion-label>
      <ion-input [(ngModel)]="barcode" name="barcode" style="z-index: 100;" placeholder="输入商品条码" ></ion-input>
      <button class="btn" item-end (click)="scanBarcode()"><ion-icon  name="camera"  color="primary" ></ion-icon></button>
    </ion-item>
    <ion-item>
      <ion-label color="primary">名称</ion-label>
      <ion-input name="name" [(ngModel)]="name" placeholder="输入商品名称" ></ion-input>
    </ion-item>
    <button ion-item (click)="toCategory()">
      <ion-label color="primary">分类</ion-label>
      <ion-note item-end>{{product.categoryName}}</ion-note>
    </button>
  </ion-list>
  <ion-list>
    <ion-item>
      <ion-label color="primary">售价</ion-label>
      <ion-input [(ngModel)]="price" name="price" placeholder="输入商品售价" ></ion-input>
    </ion-item>
    <ion-item>
      <ion-label color="primary">进价</ion-label>
      <ion-input [(ngModel)]="buyingPrice" name="buyingPrice" placeholder="输入商品进价" ></ion-input>
    </ion-item>
    <ion-item>
      <ion-label color="primary">库存</ion-label>
      <ion-input [(ngModel)]="stock" name="stock" placeholder="输入商品库存" ></ion-input>
    </ion-item>
    <ion-item>
      <ion-label color="primary">备注</ion-label>
      <ion-input [(ngModel)]="remark" name="remark" placeholder="输入商品备注" ></ion-input>
    </ion-item>

    <button (click)="showPrompt()" ion-item>
      <ion-label color="primary">供应商</ion-label>
      <!--<ion-input placeholder="输入商品供应商"></ion-input>-->
    </button>
  </ion-list>

  <ion-grid class="fixed-bottom">
    <ion-row>
      <ion-col>
        <button ion-button block  color="primary" (click)="save(0)">完成</button>
      </ion-col>
      <ion-col>
        <button ion-button block color="primary" (click)="saveAndNew()">继续添加</button>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
